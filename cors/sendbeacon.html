<html>
  <body>
    <div id="app"></div>
    <script>
       //不好用
      // window.addEventListener('beforeunload',function(e){
      //   e.preventDefault()
      //   e.returnValue=''
      //  let b=confirm('close?')
      //  if(!b) return false
      // })
      // let fd=new FormData()
      // fd.append('name','beacon')
      navigator.sendBeacon('/beacon','name=beacon')
    </script>
     
    <pre>
      这个方法主要用于满足 统计和诊断代码 的需要，这些代码通常尝试在卸载（unload）文档之前向web服务器发送数据。
      过早的发送数据可能导致错过收集数据的机会。然而， 对于开发者来说保证在文档卸载期间发送数据一直是一个困难。
      因为用户代理通常会忽略在卸载事件处理器中产生的异步 XMLHttpRequest 。
    </pre>
  </body>
</html>